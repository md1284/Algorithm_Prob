#include <stdio.h>
#include <windows.h>

int arr[10000];
int t = 0, r = 1;

void push(int n)
{
	arr[++t] = n;
}

void pop(void)
{
	if (r > t)
		printf("-1\n");

	else
	{
		printf("%d\n", arr[r]);
		r++;
	}
}

void front(void)
{
	if (r > t)
		printf("-1\n");

	else
		printf("%d\n", arr[r]);
}

void back(void)
{
	if (r > t)
		printf("-1\n");

	else
		printf("%d\n", arr[t]);
}

int main(void)
{
	int n, i;
	int num;
	char idx[6];

	scanf_s("%d", &n);

	for (i = 0; i < n; i++)
	{
		scanf_s("%s", &idx, sizeof(idx));

		if ((idx[0] == 'p') && (idx[1] == 'u'))
		{
			scanf_s("%d", &num);
			push(num);
		}
		
		if ((idx[0] == 'p') && (idx[1] == 'o'))
			pop();

		if (idx[0] == 's')
			printf("%d\n", t - r+1);

		if (idx[0] == 'e')
		{
			if ((t-r+1) == 0)
				printf("1\n");

			else
				printf("0\n");
		}

		if (idx[0] == 'f')
			front();

		if (idx[0] == 'b')
			back();
	}

	system("pause");
	return 0;
}